# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: –≠—Ç–∞–ø 2 - –°–∏—Å—Ç–µ–º–∞ —É—Ä–æ–≤–Ω–µ–π

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

1. **SQL –º–∏–≥—Ä–∞—Ü–∏—è** - —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–æ 30 —É—Ä–æ–≤–Ω–µ–π —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –Ω–∞–≥—Ä–∞–¥–∞–º–∏
2. **Frontend** - –æ–±–Ω–æ–≤–ª–µ–Ω—ã –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã, —Å–æ–∑–¥–∞–Ω –∫—Ä–∞—Å–∏–≤—ã–π UI –¥–ª—è level up
3. **API** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π –≤–∞–ª—é—Ç—ã
4. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∏ —Ç–µ—Å—Ç—ã
5. **–¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º—ã

## üìã –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∑–∞ 3 —à–∞–≥–∞

### –®–∞–≥ 1: –ü—Ä–∏–º–µ–Ω–∏—Ç–µ SQL –º–∏–≥—Ä–∞—Ü–∏—é

**–û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard:**

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ SQL Editor
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `docs/database/migrations/002_expand_levels_to_30.sql`
3. –í—Å—Ç–∞–≤—å—Ç–µ –∏ –Ω–∞–∂–º–∏—Ç–µ **RUN**

> **‚ö†Ô∏è –í–∞–∂–Ω–æ**: –ú–∏–≥—Ä–∞—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ —É–¥–∞–ª—è–µ—Ç –∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—ë—Ç —Ñ—É–Ω–∫—Ü–∏—é `add_user_experience` —Å –Ω–æ–≤—ã–º–∏ –ø–æ–ª—è–º–∏ –≤–æ–∑–≤—Ä–∞—Ç–∞. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –∏ –Ω–µ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ –ø–æ—Ç–µ—Ä–µ –¥–∞–Ω–Ω—ã—Ö!

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**

```sql
SELECT COUNT(*) FROM gardener_levels; -- –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 30
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ frontend (—É–∂–µ –≥–æ—Ç–æ–≤!)

Frontend –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Ö–≤–∞—Ç–∏—Ç –Ω–æ–≤—ã–µ —É—Ä–æ–≤–Ω–∏ –∏–∑ –ë–î —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã:

- ‚úÖ `src/utils/achievements.ts` - 30 —É—Ä–æ–≤–Ω–µ–π
- ‚úÖ `src/components/profile/LevelUpModal.tsx` - –º–æ–¥–∞–ª–∫–∞ level up

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**

```bash
npm run type-check  # –ü—Ä–æ–≤–µ—Ä–∫–∞ TypeScript
npm run dev        # –ó–∞–ø—É—Å–∫ dev —Å–µ—Ä–≤–µ—Ä–∞
```

### –®–∞–≥ 3: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å–∏—Å—Ç–µ–º—É

```bash
# 1. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ TEST_TELEGRAM_ID –≤ —Ñ–∞–π–ª–µ
# scripts/test-level-system.js (—Å—Ç—Ä–æ–∫–∞ 24)

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã
node scripts/test-level-system.js

# –î–æ–ª–∂–Ω—ã –ø—Ä–æ–π—Ç–∏ –≤—Å–µ 7 —Ç–µ—Å—Ç–æ–≤ ‚úÖ
```

## üìä –ß—Ç–æ –ø–æ–ª—É—á–∏–ª–æ—Å—å

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

- ‚úÖ 30 —É—Ä–æ–≤–Ω–µ–π –≤–º–µ—Å—Ç–æ 6
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä–∞–¥ (—Ä–æ—Å—Ç–∫–∏ + –∫—Ä–∏—Å—Ç–∞–ª–ª—ã)
- ‚úÖ –ó–∞–ø–∏—Å—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- ‚úÖ Special unlocks –¥–ª—è –æ—Å–æ–±—ã—Ö —É—Ä–æ–≤–Ω–µ–π

### Frontend

- ‚úÖ –ö—Ä–∞—Å–∏–≤–∞—è –º–æ–¥–∞–ª–∫–∞ level up —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä–∞–¥
- ‚úÖ –°–ø–∏—Å–æ–∫ –Ω–æ–≤—ã—Ö benefits
- ‚úÖ Confetti —ç—Ñ—Ñ–µ–∫—Ç üéâ

### –ù–∞–≥—Ä–∞–¥—ã

- üåø **~50,000 —Ä–æ—Å—Ç–∫–æ–≤** —Å—É–º–º–∞—Ä–Ω–æ –¥–æ 30 —É—Ä–æ–≤–Ω—è
- üíé **~260 –∫—Ä–∏—Å—Ç–∞–ª–ª–æ–≤** —Å—É–º–º–∞—Ä–Ω–æ –¥–æ 30 —É—Ä–æ–≤–Ω—è
- ‚≠ê **5 special unlocks** (–º–∞–≥–∞–∑–∏–Ω, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è, –±–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–∞–¥, –∏ —Ç.–¥.)

## üéØ –ü—Ä–∏–º–µ—Ä—ã –Ω–∞–≥—Ä–∞–¥

| –£—Ä–æ–≤–µ–Ω—å | –ò–º—è      | –û–ø—ã—Ç    | –ù–∞–≥—Ä–∞–¥–∞                           |
| ------- | -------- | ------- | --------------------------------- |
| 1 ‚Üí 2   | –ü–æ–±–µ–≥    | 100     | 150üåø                             |
| 2 ‚Üí 3   | –ë—É—Ç–æ–Ω    | 250     | 200üåø + 1üíé                       |
| 4 ‚Üí 5   | –°–∞–¥–æ–≤–Ω–∏–∫ | 800     | 350üåø + 3üíé + "–ú–∞–≥–∞–∑–∏–Ω —Ç–µ–º"       |
| 9 ‚Üí 10  | –ú–∞—Å—Ç–µ—Ä   | 4,300   | 700üåø + 5üíé + "–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è Pro"    |
| 29 ‚Üí 30 | –¢–≤–æ—Ä–µ—Ü   | 200,000 | 10,000üåø + 50üíé + "–°—Ç–∞—Ç—É—Å –¢–≤–æ—Ä—Ü–∞" |

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **`docs/database/migrations/README_002.md`** - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏
- **`docs/LEVEL_SYSTEM_GUIDE.md`** - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- **`docs/STAGE_2_SUMMARY.md`** - –î–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç–µ

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

```bash
# 1. TypeScript
npm run type-check

# 2. –õ–∏–Ω—Ç–∏–Ω–≥
npm run lint

# 3. Dev —Å–µ—Ä–≤–µ—Ä
npm run dev
```

### –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

```bash
# 1. –¢–µ—Å—Ç—ã –ë–î
node scripts/test-level-system.js

# 2. Build
npm run build

# 3. –†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
# - –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å
# - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è
# - –î–æ–±–∞–≤—å—Ç–µ –æ–ø—ã—Ç (—á–µ—Ä–µ–∑ dev tools)
# - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ level up –º–æ–¥–∞–ª–∫—É
```

## ‚öôÔ∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ LevelUpModal

```tsx
import { useState } from 'react'
import { LevelUpModal } from '@/components/profile'
import { calculateGardenerLevel } from '@/utils/achievements'

function MyComponent() {
  const [showLevelUp, setShowLevelUp] = useState(false)
  const [levelUpData, setLevelUpData] = useState(null)

  // –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ–ø—ã—Ç–∞
  const handleExperienceGain = apiResponse => {
    if (apiResponse.data?.leveledUp) {
      const oldLevel = calculateGardenerLevel(oldExperience)
      const newLevel = calculateGardenerLevel(apiResponse.data.experience)

      setLevelUpData({
        oldLevel,
        newLevel,
        sproutReward: apiResponse.data.sproutReward || 0,
        gemReward: apiResponse.data.gemReward || 0,
        specialUnlock: apiResponse.data.specialUnlock,
      })
      setShowLevelUp(true)
    }
  }

  return (
    <>
      {/* –í–∞—à UI */}

      {levelUpData && (
        <LevelUpModal
          isOpen={showLevelUp}
          onClose={() => setShowLevelUp(false)}
          {...levelUpData}
        />
      )}
    </>
  )
}
```

## üéâ –ì–æ—Ç–æ–≤–æ!

–≠—Ç–∞–ø 2 –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É!

**–°–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø:**

- –≠—Ç–∞–ø 3: –°–∏—Å—Ç–µ–º–∞ —É–ª—É—á—à–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –ò–ª–∏ –≠—Ç–∞–ø 4: –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è (–º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)

---

**–î–∞—Ç–∞**: 13 —è–Ω–≤–∞—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É  
**–§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ**: 7  
**–°—Ç—Ä–æ–∫ –∫–æ–¥–∞**: ~1,500
